(function(z,A){"use strict";var B="length";var C=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]];var D=0;var E=1,MODE_ALPHANUMERIC=2,MODE_OCTET=4,MODE_KANJI=8;var F=/^\d*$/;var G=/^[A-Za-z0-9 $%*+\-./:]*$/;var H=/^[A-Z0-9 $%*+\-./:]*$/;var I=1,ECCLEVEL_M=0,ECCLEVEL_Q=3,ECCLEVEL_H=2;var J=[],GF256_INVMAP=[-1];for(var K=0,v=1;K<255;++K){J.push(v);GF256_INVMAP[v]=K;v=(v*2)^(v>=128?0x11d:0)}var L=[[]];for(var M=0;M<30;++M){var N=L[M],poly=[];for(var O=0;O<=M;++O){var a=O<M?J[N[O]]:0;var b=J[(M+(N[O-1]||0))%255];poly.push(GF256_INVMAP[a^b])}L.push(poly)}var P={};for(var i=0;i<45;++i){P["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(i)]=i}var Q=[function(i,j){return(i+j)%2===0},function(i){return i%2===0},function(i,j){return j%3===0},function(i,j){return(i+j)%3===0},function(i,j){return(((i/2)|0)+((j/3)|0))%2===0},function(i,j){return((i*j)%2)+((i*j)%3)===0},function(i,j){return(((i*j)%2)+((i*j)%3))%2===0},function(i,j){return(((i+j)%2)+((i*j)%3))%2===0}];var R=function R(a){return a>6};var S=function S(a){return 4*a+17};var T=function T(a){var v=C[a];var b=16*a*a+128*a+64;if(R(a)){b-=36}if(v[2][B]){b-=25*v[2][B]*v[2][B]-10*v[2][B]-55}return b};var U=function U(a,b){var c=T(a)&~7;var v=C[a];c-=8*v[0][b]*v[1][b];return c};var V=function V(a,b){switch(b){case E:return a<10?10:a<27?12:14;case MODE_ALPHANUMERIC:return a<10?9:a<27?11:13;case MODE_OCTET:return a<10?8:16;case MODE_KANJI:return a<10?8:a<27?10:12}};var W=function W(a,b,c){var d=U(a,c)-4-V(a,b);switch(b){case E:return(((d/10)|0)*3+(d%10<4?0:d%10<7?1:2));case MODE_ALPHANUMERIC:return((d/11)|0)*2+(d%11<6?0:1);case MODE_OCTET:return(d/8)|0;case MODE_KANJI:return(d/13)|0}};var X=function X(a,b){switch(a){case E:if(!b.match(F)){return null}return b;case MODE_ALPHANUMERIC:if(!b.match(G)){return null}return b.toUpperCase();case MODE_OCTET:if(typeof b==="string"){var c=[];for(var i=0;i<b[B];++i){var d=b.charCodeAt(i);if(d<0x80){c.push(d)}else if(d<0x800){c.push(0xc0|(d>>6),0x80|(d&0x3f))}else if(d<0x10000){c.push(0xe0|(d>>12),0x80|((d>>6)&0x3f),0x80|(d&0x3f))}else{c.push(0xf0|(d>>18),0x80|((d>>12)&0x3f),0x80|((d>>6)&0x3f),0x80|(d&0x3f))}}return c}else{return b}}};var Y=function Y(a,b,c,d){var e=[];var f=0,remaining=8;var g=c[B];var h=function h(x,n){if(n>=remaining){e.push(f|(x>>(n-=remaining)));while(n>=8){e.push((x>>(n-=8))&255)}f=0;remaining=8}if(n>0){f|=(x&((1<<n)-1))<<(remaining-=n)}};var j=V(a,b);h(b,4);h(g,j);switch(b){case E:for(var i=2;i<g;i+=3){h(parseInt(c.substring(i-2,i+1),10),10)}h(parseInt(c.substring(i-2),10),[0,4,7][g%3]);break;case MODE_ALPHANUMERIC:for(var k=1;k<g;k+=2){h(P[c.charAt(k-1)]*45+P[c.charAt(k)],11)}if(g%2===1){h(P[c.charAt(k-1)],6)}break;case MODE_OCTET:for(var l=0;l<g;++l){h(c[l],8)}break}h(D,4);if(remaining<8){e.push(f)}while(e[B]+1<d){e.push(0xec,0x11)}if(e[B]<d){e.push(0xec)}return e};var Z=function Z(a,b){var c=a.slice(0);var d=a[B],genpolylen=b[B];for(var k=0;k<genpolylen;++k){c.push(0)}for(var i=0;i<d;){var e=GF256_INVMAP[c[i++]];if(e>=0){for(var j=0;j<genpolylen;++j){c[i+j]^=J[(e+b[j])%255]}}}return c.slice(d)};var ba=function ba(a,b,c){var d=[];var e=(a[B]/b)|0,subsize0=0;var f=b-(a[B]%b);for(var i=0;i<f;++i){d.push(subsize0);subsize0+=e}for(var g=f;g<b;++g){d.push(subsize0);subsize0+=e+1}d.push(subsize0);var h=[];for(var k=0;k<b;++k){h.push(Z(a.slice(d[k],d[k+1]),c))}var l=[];var m=(a[B]/b)|0;for(var n=0;n<m;++n){for(var j=0;j<b;++j){l.push(a[d[j]+n])}}for(var o=f;o<b;++o){l.push(a[d[o+1]-1])}for(var p=0;p<c[B];++p){for(var q=0;q<b;++q){l.push(h[q][p])}}return l};var bb=function bb(a,p,b,q){var c=a<<q;for(var i=p-1;i>=0;--i){if((c>>(q+i))&1){c^=b<<i}}return(a<<q)|c};var bc=function bc(b){var v=C[b],n=S(b);var c=[],reserved=[];for(var i=0;i<n;++i){c.push([]);reserved.push([])}var d=function d(y,x,h,w,a){for(var i=0;i<h;++i){for(var j=0;j<w;++j){c[y+i][x+j]=(a[i]>>j)&1;reserved[y+i][x+j]=1}}};d(0,0,9,9,[0x7f,0x41,0x5d,0x5d,0x5d,0x41,0x17f,0x00,0x40]);d(n-8,0,8,9,[0x100,0x7f,0x41,0x5d,0x5d,0x5d,0x41,0x7f]);d(0,n-8,9,8,[0xfe,0x82,0xba,0xba,0xba,0x82,0xfe,0x00,0x00]);for(var e=9;e<n-8;++e){c[6][e]=c[e][6]=~e&1;reserved[6][e]=reserved[e][6]=1}var f=v[2],m=f[B];for(var g=0;g<m;++g){var l=g===0||g===m-1?1:0,maxj=g===0?m-1:m;for(var j=l;j<maxj;++j){d(f[g],f[j],5,5,[0x1f,0x11,0x15,0x11,0x1f])}}if(R(b)){var o=bb(b,6,0x1f25,12);var k=0;for(var p=0;p<6;++p){for(var q=0;q<3;++q){c[p][n-11+q]=c[n-11+q][p]=(o>>k++)&1;reserved[p][n-11+q]=reserved[n-11+q][p]=1}}}return{matrix:c,reserved:reserved}};var bd=function bd(a,b,c){var n=a[B];var k=0,dir=-1;for(var i=n-1;i>=0;i-=2){if(i===6){--i}var d=dir<0?n-1:0;for(var j=0;j<n;++j){for(var e=i;e>i-2;--e){if(!b[d][e]){a[d][e]=(c[k>>3]>>(~k&7))&1;++k}}d+=dir}dir=-dir}return a};var be=function be(a,b,c){var d=Q[c];var n=a[B];for(var i=0;i<n;++i){for(var j=0;j<n;++j){if(!b[i][j]){a[i][j]^=d(i,j)}}}return a};var bf=function bf(a,b,d,e){var n=a[B];var f=bb((d<<3)|e,5,0x537,10)^0x5412;for(var i=0;i<15;++i){var r=[0,1,2,3,4,5,7,8,n-7,n-6,n-5,n-4,n-3,n-2,n-1][i];var c=[n-1,n-2,n-3,n-4,n-5,n-6,n-7,n-8,7,5,4,3,2,1,0][i];a[r][8]=a[8][c]=(f>>i)&1}return a};var bg=function bg(d){var e=3;var f=3;var g=40;var h=10;var l=function l(a){var b=0;for(var i=0;i<a[B];++i){if(a[i]>=5){b+=e+(a[i]-5)}}for(var c=5;c<a[B];c+=2){var p=a[c];if(a[c-1]===p&&a[c-2]===3*p&&a[c-3]===p&&a[c-4]===p&&(a[c-5]>=4*p||a[c+1]>=4*p)){b+=g}}return b};var n=d[B];var m=0,nblacks=0;for(var i=0;i<n;++i){var o=d[i];var q;q=[0];for(var j=0;j<n;){var k;for(k=0;j<n&&o[j];++k){++j}q.push(k);for(k=0;j<n&&!o[j];++k){++j}q.push(k)}m+=l(q);q=[0];for(var r=0;r<n;){var s;for(s=0;r<n&&d[r][i];++s){++r}q.push(s);for(s=0;r<n&&!d[r][i];++s){++r}q.push(s)}m+=l(q);var t=d[i+1]||[];nblacks+=o[0];for(var u=1;u<n;++u){var p=o[u];nblacks+=p;if(o[u-1]===p&&t[u]===p&&t[u-1]===p){m+=f}}}m+=h*((Math.abs(nblacks/n/n-0.5)/0.05)|0);return m};var bh=function generate(a,b,c,d,e){var v=C[b];var f=Y(b,c,a,U(b,d)>>3);f=ba(f,v[1][d],L[v[0][d]]);var g=bc(b);var h=g.matrix,reserved=g.reserved;bd(h,reserved,f);if(e<0){be(h,reserved,0);bf(h,reserved,d,0);var i=0,bestscore=bg(h);be(h,reserved,0);for(e=1;e<8;++e){be(h,reserved,e);bf(h,reserved,d,e);var j=bg(h);if(bestscore>j){bestscore=j;i=e}be(h,reserved,e)}e=i}be(h,reserved,e);bf(h,reserved,d,e);return h};var bi="appendChild";var bj="createElement";var bk="createElementNS";var bl="setAttributeNS";var bm="createRange";var bn="selectNodeContents";var bo="createContextualFragment";var bp="createDocumentFragment";var bq="createTextNode";var br={generate:function generate(a,b){var c=b||{};var d={numeric:E,alphanumeric:MODE_ALPHANUMERIC,octet:MODE_OCTET};var e={L:I,M:ECCLEVEL_M,Q:ECCLEVEL_Q,H:ECCLEVEL_H};var f=c.version||-1;var g=e[(c.ecclevel||"L").toUpperCase()];var h=c.mode?d[c.mode.toLowerCase()]:-1;var i="mask"in c?c.mask:-1;if(h<0){if(typeof a==="string"){if(a.match(F)){h=E}else if(a.match(H)){h=MODE_ALPHANUMERIC}else{h=MODE_OCTET}}else{h=MODE_OCTET}}else if(!(h===E||h===MODE_ALPHANUMERIC||h===MODE_OCTET)){throw"invalid or unsupported mode";}a=X(h,a);if(a===null){throw"invalid data format";}if(g<0||g>3){throw"invalid ECC level";}if(f<0){for(f=1;f<=40;++f){if(a[B]<=W(f,h,g)){break}}if(f>40){throw"too large data";}}else if(f<1||f>40){throw"invalid version";}if(i!==-1&&(i<0||i>8)){throw"invalid mask";}return bh(a,f,h,g,i)},generateHTML:function generateHTML(a,b){var c=b||{};var d=c.fillcolor?c.fillcolor:"#FFFFFF";var f=c.textcolor?c.textcolor:"#000000";var g=br.generate(a,c);var h=Math.max(c.modulesize||5,0.5);var k=Math.max(c.margin!==null?c.margin:4,0.0);var e=A[bj]("div");var n=g[B];var l=['<table border="0" cellspacing="0" cellpadding="0" style="border:'+h*k+"px solid "+d+";background:"+d+'">'];for(var i=0;i<n;++i){l.push("<tr>");for(var j=0;j<n;++j){l.push('<td style="width:'+h+"px;height:"+h+"px"+(g[i][j]?";background:"+f:"")+'"></td>')}l.push("</tr>")}e.className="qrcode";var m=A[bm]();m[bn](e);var o=m[bo](l.join("")+"</table>");e[bi](o);return e},generateSVG:function generateSVG(b,d){var g=d||{};var h=g.fillcolor?g.fillcolor:"#FFFFFF";var i=g.textcolor?g.textcolor:"#000000";var j=br.generate(b,g);var n=j[B];var k=Math.max(g.modulesize||5,0.5);var l=Math.max(g.margin?g.margin:4,0.0);var m=k*(n+2*l);var e=A[bk]("http://www.w3.org/2000/svg","svg");e[bl](null,"viewBox","0 0 "+m+" "+m);e[bl](null,"style","shape-rendering:crispEdges");var o="qrcode"+Date.now();e[bl](null,"id",o);var p=A[bp]();var q=A[bk]("http://www.w3.org/2000/svg","style");q[bi](A[bq]("#"+o+" .bg{fill:"+h+"}#"+o+" .fg{fill:"+i+"}"));p[bi](q);var r=function r(c,f,x,y,s){var a=A[bk]("http://www.w3.org/2000/svg","rect")||"";a[bl](null,"class",c);a[bl](null,"fill",f);a[bl](null,"x",x);a[bl](null,"y",y);a[bl](null,"width",s);a[bl](null,"height",s);return a};p[bi](r("bg","none",0,0,m));var t=l*k;for(var y=0;y<n;++y){var u=l*k;for(var x=0;x<n;++x){if(j[y][x]){p[bi](r("fg","none",u,t,k))}u+=k}t+=k}e[bi](p);return e},generatePNG:function generatePNG(a,b){var c=b||{};var d=c.fillcolor||"#FFFFFF";var e=c.textcolor||"#000000";var f=br.generate(a,c);var g=Math.max(c.modulesize||5,0.5);var h=Math.max(c.margin!==null&&c.margin!==undefined?c.margin:4,0.0);var n=f[B];var k=g*(n+2*h);var l=A[bj]("canvas"),context;l.width=l.height=k;context=l.getContext("2d");if(!context){throw"canvas support is needed for PNG output";}context.fillStyle=d;context.fillRect(0,0,k,k);context.fillStyle=e;for(var i=0;i<n;++i){for(var j=0;j<n;++j){if(f[i][j]){context.fillRect(g*(h+j),g*(h+i),g,g)}}}return l.toDataURL()}};z.QRCode=br})("undefined"!==typeof window?window:this,document);(function(){this.Modal=function(){this.closeButton=null;this.modal=null;this.overlay=null;this.transitionEnd=transitionSelect();var a={autoOpen:false,className:'fade-and-drop',content:"",maxWidth:270,minWidth:264,overlay:true};if(arguments[0]&&typeof arguments[0]==="object"){this.options=extendDefaults(a,arguments[0])}if(this.options.autoOpen===true)this.open()};Modal.prototype.close=function(){stopListenForTX();var _=this;this.modal.className=this.modal.className.replace(" paybutton-open","");this.overlay.className=this.overlay.className.replace(" paybutton-open","");this.modal.addEventListener(this.transitionEnd,function(){_.modal.parentNode.removeChild(_.modal)});this.overlay.addEventListener(this.transitionEnd,function(){if(_.overlay.parentNode)_.overlay.parentNode.removeChild(_.overlay)})};Modal.prototype.open=function(){buildOut.call(this);initializeEvents.call(this);window.getComputedStyle(this.modal).height;this.modal.className=this.modal.className+(this.modal.offsetHeight>window.innerHeight?" paybutton-open paybutton-anchored":" paybutton-open");this.overlay.className=this.overlay.className+" paybutton-open"};function buildOut(){var a,contentHolder,docFrag;if(typeof this.options.content==="string"){a=this.options.content}else{a=this.options.content.innerHTML}docFrag=document.createDocumentFragment();this.modal=document.createElement("div");this.modal.className="paybutton-modal "+this.options.className;this.modal.style.minWidth=this.options.minWidth+"px";this.modal.style.maxWidth=this.options.maxWidth+"px";if(this.options.overlay===true){this.overlay=document.createElement("div");this.overlay.className="paybutton-overlay "+this.options.className;docFrag.appendChild(this.overlay)}contentHolder=document.createElement("div");contentHolder.className="paybutton-content";contentHolder.id="modal-content";contentHolder.innerHTML=a;this.modal.appendChild(contentHolder);docFrag.appendChild(this.modal);document.body.appendChild(docFrag)}function extendDefaults(a,b){var c;for(c in b){if(b.hasOwnProperty(c)){a[c]=b[c]}}return a}function initializeEvents(){if(this.closeButton){this.closeButton.addEventListener('click',this.close.bind(this))}if(this.overlay){this.overlay.addEventListener('click',this.close.bind(this))}document.getElementById("bch-open").addEventListener("click",function(){this.innerHTML=("<span>Opening BCH Wallet</span>")})}function transitionSelect(){var a=document.createElement("div");if(a.style.WebkitTransition)return"webkitTransitionEnd";if(a.style.OTransition)return"oTransitionEnd";return'transitionend'}}());function copyBCHURI(a){var b=document.createElement('input');b.value=a;document.body.appendChild(b);b.select();document.execCommand('copy',false);b.remove();alert("Bitcoin Cash address copied!")}function playAudio(){var a=new Audio('https://paybutton.cash/pre-release/v0.1/audio/pbding.mp3');a.volume=0.02;a.play()}var txListen;function startListenForTX(a,b,c,d,e){var f=Math.floor(Date.now()/1000);txListen=setInterval(function(){listenForTX(a,b,c,d,e,f)},1250)}function stopListenForTX(){clearInterval(txListen)}function txDialogue(a,b,c,d){playAudio();if(!a){a="Transaction Successful!"}var e=document.getElementById("modal-content");e.innerHTML='<div>'+'<div>'+'<div>'+'<div class="amountdiv"><span>'+a+'</span></div>'+'</div>'+'<div>'+'<div class="amountdiv"><span>View: </span><a href="https://explorer.bitcoin.com/bch/tx/'+b+'" target="_blank" style="color: orangeRed; text-decoration: none;">Transaction</a></div>'+'</div>'+'</div>'+'</div>';console.log("Confirmed. Transaction ID:",b);var f=document.getElementsByClassName(c);if(f){for(var i=0;i<f.length;i++){var g=f[i];g.style.display="block"}}if(d&&window[d]){window[d](b)}}function listenForTX(c,d,e,f,g,h){var i=new XMLHttpRequest();i.open('GET','https://rest.bitcoin.com/v1/address/unconfirmed/'+c,true);i.onload=function(){if(i.readyState==4&&i.status==200){console.log("listening for transaction..");var a=JSON.parse(i.responseText);for(var j=0;j<a.length;j++){var b=a[j];if(h<b.ts){if(b.amount==d){stopListenForTX();txDialogue(e,b.txid,f,g);return}}}}else{console.log("Found Server But There Is An Error")}};i.onerror=function(){console.log("Could Not Connect To Server")};i.send()}function sendToBadger(a,b,c,d,e,f,g){if(!g){b=b*100000000}else{b=""}if(typeof web4bch!=="undefined"){web4bch=new Web4Bch(web4bch.currentProvider);if(!web4bch.bch.defaultAccount){document.getElementById("badger-open").innerHTML=("<span>Please Unlock Badger Wallet</span>");alert("Please unlock Badger Wallet before continuing.")}else{document.getElementById("badger-open").innerHTML=("<span>Opening Badger Wallet</span>");var h={to:a,from:web4bch.bch.defaultAccount,value:b};web4bch.bch.sendTransaction(h,(err,res)=>{if(err){console.log("Error",err)}else{stopListenForTX();txDialogue(c,res,d,e)}})}}else{document.getElementById("badger-open").innerHTML=("<span>Badger Wallet Not Found</span>");window.open('https://badger.bitcoin.com');alert("To use Badger Wallet for this transaction, Please visit:\n\nhttps://badger.bitcoin.com for installation instructions.")}}function openModal(a,b,c,d,e,f,g){if(g){f="Send any amount of Bitcoin Cash";qrData=a;URI=a;b=""}else{qrData=a+"?amount="+b;URI=a+"?amount="+b;startListenForTX(a,b,c,d,e)}var h={ecclevel:"Q",fillcolor:"#FFFFFF",textcolor:"#000000",margin:"0.5",modulesize:12};if(document.implementation.hasFeature("http://www.w3.org/2000/svg","1.1")){genQR=QRCode.generateSVG(qrData,h);var i=new XMLSerializer();genQR=i.serializeToString(genQR);genQR="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(genQR)));qrImage=genQR}else{genQR=QRCode.generatePNG(qrData,h);qrImage=genQR}var j='<div>'+'<div>'+'<div>'+'<div class="qrparent" onclick=copyBCHURI(\''+URI+'\')>'+'<img class="qrcode" src="'+qrImage+'"  width="256" />'+'<img class="qricon" src="https://paybutton.cash/images/bitcoincash_bare_logo.png" width="70" />'+'<div class="qrctc">Click to Copy</div>'+'</div>'+'</div>'+'<div>'+'<div class="amountdiv"><span>'+f+'</span></div> '+'</div>'+'<div>'+'<div><a href="'+URI+'"><button id="bch-open" class="pay-button modal"><span>Send with Bitcoin Cash Wallet</span></button></a></div>'+'</div>'+'<div>'+'<div><button id="badger-open" class = "pay-button modal" onclick="sendToBadger(\''+a+'\', \''+b+'\', \''+c+'\', \''+d+'\', \''+e+'\')"><span>Send with Badger Wallet</span></button></div> '+'</div>'+'</div>'+'</div>';var k=new Modal({content:j});k.open()}function getBCHPrice(c,d,e,f,g,h,i,j,k){var l=new XMLHttpRequest();l.open('GET','https://index-api.bitcoin.com/api/v0/cash/price/'+d,true);l.onload=function(){if(l.readyState==4&&l.status==200){var a=JSON.parse(l.responseText);if(a.price!=""){var b=a.price/100;i=(1/b)*c;i=i.toFixed(8);j=(c+" "+d+" = "+i+" BCH");openModal(e,i,f,g,h,j,k)}else{console.log("Error Price Not Found")}}else{console.log("Found Server But There Is An Error")}};l.onerror=function(){console.log("Could Not Connect To Server")};l.send()}function mouseOver(){buttonText2=this.getAttribute("button-text-2")||"";buttonText2=buttonText2.trim();if(!buttonText2){showAmount=this.getAttribute('amount')||"";showAmount=Number(showAmount.trim());showType=this.getAttribute('amount-type')||"";showType=showType.trim().toUpperCase();buttonText2=showAmount+" "+showType;if(!showAmount||!showType){buttonText2="Click to send BCH"}}this.innerHTML=("<span>"+buttonText2+"</span>");if(!('ontouchend'in window))this.addEventListener('mouseout',mouseOut,false);if('ontouchend'in window)this.addEventListener('touchend',mouseOut,false)}function mouseOut(){buttonText=this.getAttribute("button-text")||"";buttonText=buttonText.trim();if(!buttonText){showAmount=this.getAttribute('amount')||"";showAmount=Number(showAmount.trim());showType=this.getAttribute('amount-type')||"";showType=showType.trim().toUpperCase();buttonText="Pay with Bitcoin Cash";if(!showAmount||!showType){buttonText="Pay with Bitcoin Cash"}}this.innerHTML=("<span>"+buttonText+"</span>")}document.addEventListener("DOMContentLoaded",function(){var k=document.getElementsByClassName("pay-button");for(var i=0;i<k.length;i++){var l=k[i];var m=l.getAttribute("button-text")||"";m=m.trim();buttonAmount=l.getAttribute("amount")||"";buttonAmount=Number(buttonAmount.trim());amountType=l.getAttribute("amount-type")||"";amountType=amountType.trim().toUpperCase();if(!m){m="Pay with Bitcoin Cash";if(!buttonAmount||!amountType){m="Pay with Bitcoin Cash"}}l.innerHTML="<span>"+m+"</span>";if(!('ontouchstart'in window))l.addEventListener('mouseover',mouseOver,false);if('ontouchstart'in window)l.addEventListener('touchstart',mouseOver,false);l.addEventListener("click",function(a){var b=this.getAttribute("amount")||"";b=Number(b.trim());var c=this.getAttribute("amount-type")||"";c=c.trim().toUpperCase();var d=this.getAttribute("address")||"";d=d.trim();var e=this.getAttribute("success-msg")||"";e=e.trim();var f=this.getAttribute("paywall-field")||"";f=f.trim();var g=this.getAttribute("success-callback")||"";g=g.trim();var h;var i;var j;if(!d){alert("PayButton Error:\n\nBelow are the minimum button requirements\n\n1. address (Bitcoin Cash address)");return}if(b||c){if(!b||!c){alert("PayButton Error:\n\nFor specific PayButton amounts, BOTH of the following MUST be set:\n\n1. amount (Must be a number)\n2. amount-type (Can be BCH, Satoshi, USD, AUD etc)\n\nTo allow \"Any\" amount, BOTH must be blank.");return}}else{j=true}if(j){openModal(d,h,e,f,g,i,j)}else{if(c=="BCH"||c=="SATOSHI"){h=b;if(c=="SATOSHI"){h=h/100000000}h=h.toFixed(8);i=(h+" BCH");openModal(d,h,e,f,g,i,j)}else{getBCHPrice(b,c,d,e,f,g,h,i,j)}}})}});var cssButtonId='pbButtonCSS';if(!document.getElementById(cssButtonId)){var head=document.getElementsByTagName('head')[0];var link=document.createElement('link');link.id=cssButtonId;link.rel='stylesheet';link.type='text/css';link.href='https://paybutton.cash/pre-release/v0.1/css/buttons.min.css';link.media='all';head.appendChild(link)}var cssModalId='pbModalCSS';if(!document.getElementById(cssModalId)){var head=document.getElementsByTagName('head')[0];var link=document.createElement('link');link.id=cssModalId;link.rel='stylesheet';link.type='text/css';link.href='https://paybutton.cash/pre-release/v0.1/css/modal.min.css';link.media='all';head.appendChild(link)}